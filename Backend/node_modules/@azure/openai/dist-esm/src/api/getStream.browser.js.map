{"version":3,"file":"getStream.browser.js","sourceRoot":"","sources":["../../../src/api/getStream.browser.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;;AAclC,MAAM,UAAiB,SAAS,CAC9B,QAAqC;;QAErC,MAAM,MAAM,GAAG,CAAC,cAAM,QAAQ,CAAC,eAAe,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC;QACvD,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;QAC/F,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QAClC,MAAM,MAAM,GAAI,MAAc,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO,IAAI,EAAE;YACX,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,cAAM,MAAM,CAAC,IAAI,EAAE,CAAA,CAAC;YAC5C,IAAI,IAAI,EAAE;gBACR,MAAM;aACP;YACD,oBAAM,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA,CAAC;SAC7B;IACH,CAAC;CAAA","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * THIS IS AN AUTO-GENERATED FILE - DO NOT EDIT!\n *\n * Any changes you make here may be lost.\n *\n * If you need to make changes, please do so in the original source file, \\{project-root\\}/sources/custom\n */\n\nimport { StreamableMethod } from \"@azure-rest/core-client\";\n\ndeclare const TextDecoder: any;\n\nexport async function* getStream<TResponse>(\n  response: StreamableMethod<TResponse>\n): AsyncIterable<string> {\n  const stream = (await response.asBrowserStream()).body;\n  if (!stream) throw new Error(\"No stream found in response. Did you enable the stream option?\");\n  const encoder = new TextDecoder();\n  const reader = (stream as any).getReader();\n  while (true) {\n    const { value, done } = await reader.read();\n    if (done) {\n      break;\n    }\n    yield encoder.decode(value);\n  }\n}\n"]}