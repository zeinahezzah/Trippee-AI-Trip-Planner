// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
import { RestError, createHttpHeaders } from "@azure/core-rest-pipeline";
/**
 * Creates a rest error from a PathUnchecked response
 */
export function createRestError(message, response) {
    return new RestError(message, {
        statusCode: statusCodeToNumber(response.status),
        request: response.request,
        response: toPipelineResponse(response),
    });
}
function toPipelineResponse(response) {
    var _a;
    return {
        headers: createHttpHeaders(response.headers),
        request: response.request,
        status: (_a = statusCodeToNumber(response.status)) !== null && _a !== void 0 ? _a : -1,
    };
}
function statusCodeToNumber(statusCode) {
    const status = Number.parseInt(statusCode);
    return Number.isNaN(status) ? undefined : status;
}
//# sourceMappingURL=restError.js.map